### Tomcat线程池

组成：
- 核心线程数：10
- 最大线程数：200
- 无界阻塞队列

流程：核心线程 -> 最大线程数 -> 无界阻塞队列 

当最大线程数占满时，一直往无界阻塞队列添加会引发OOM问题


### 延迟队列

考虑场景：使用读写锁对短链接进行修改，写锁已经获取，所有访问短链接就会被阻塞（因为要新增访问记录，但此时短链接gid可能在被修改），这是如果大量访问被修改的短链接，可能会导致阻塞队列溢出导致OOM

使用延迟队列：采用延迟队列将新增访问记录进行临时存储，这样访问请求不需要等待写完成，只需要延迟队列在写完成之后将新增访问记录进行处理就行

删除延迟队列：因为采用了消息队列进行了削峰，消费者组的线程数时固定的，因此不存在大量请求导致OOM的问题，这是再使用延迟队列意义就不大了，因为同样可以等待写完成之后再进行处理