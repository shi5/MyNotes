## 一致性Hash

每次对固定的值 **2^32**（而不是数组大小）进行取模运算，这就是一致性Hash，此时节点和数据全都要进行Hash映射到一个哈希环上

**一致性哈希是指将「存储节点」和「数据」都映射到一个首尾相连的哈希环上**

存储数据的节点是数据映射的结果值往**顺时针的方向的找到第一个节点**，就是存储该数据的节点

### 一致性哈希算法并不保证节点能够在哈希环上分布均匀

采用虚拟节点

**不再将真实节点映射到哈希环上，而是将虚拟节点映射到哈希环上，并将虚拟节点映射到实际节点，所以这里有「两层」映射关系。**

![[Pasted image 20240506142706.png]]
## Hash Slot

