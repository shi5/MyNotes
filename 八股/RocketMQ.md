## 消息持久化

- 为什么要采用commitlog + consumerqueue的方式


## 获取消息方式

Consumer 端的两种消费模式（Push/Pull）都是基于拉模式来获取消息的，而在 Push 模式只是对 pull 模式的一种封装，其**本质实现为消息拉取线程在从服务器拉取到一批消息后，然后提交到消息消费线程池后，又“马不停蹄”的继续向服务器再次尝试拉取消息**。如果未拉取到消息，则延迟一下又继续拉取。

因此，有必要在 Consumer 端来做负载均衡

消息消费队列在同一消费组不同消费者之间的负载均衡，其核心设计理念是**在一个消息消费队列在同一时间只允许被同一消费组内的一个消费者消费，一个消息消费者能同时消费多个消息队列。**

## 消息发送

RocketMQ消息队列中支持通信的方式主要有同步(sync)、异步(async)、单向(oneway) 三种