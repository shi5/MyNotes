## 键入网址到网页显示

![[Pasted image 20240418142734.png]]

1. 浏览器解析URL并生成HTTP消息
2. 查询服务器域名对应的 IP 地址
3. 把 HTTP 的传输工作交给操作系统中的**协议栈**。
4. 建立TCP连接
5. 发送数据：TCP -> ip ->MAC ->  网卡 -> 网线(物理层)
6. 服务器处理Http请求，并将数据传输给浏览器
7. 浏览器成功优酷Http报文，并将HTML代码解析显示


![[Pasted image 20240418145506.png]]


## 应用层
### HTTP

#### HTTP常见状态码

![[Pasted image 20240418152118.png]]

#### HTTP常见字段

- `Host`：指定服务器的域名
- `Content-Length`：服务器返回数据时，表示本次回应的数据长度

### DNS

#### 解析过程

1. 先向本地DNS缓存服务器查找
2. 本地服务器向根服务器查找，返回顶级域服务器地址
3. 本地服务器向顶级域服务器查找，返回权威服务器地址
4. 本地服务器向权威服务器查找，返回目标IP地址
5. 本地服务器将IP地址返回主机
> 不是每次都需要经过域名解析，存在缓存，缓存查找顺序：浏览器 -> 操作系统 -> hosts


## 传输层

### TCP 

#### 三次握手

1. 客户端发送 （SYN = x），服务端确认**自己**的接收能力和**对方**的发送能力
2. 服务端发送（SYN = y， ACK = x + 1），客户端确认**自己**的发送能力、接收能力和**对方**的发送能力、接收能力，服务端确认**自己**的接收能力和**对方**的发送能力
3. 客户端发送（ACK = y + 1），客户端确认**自己**的发送能力、接收能力和**对方**的发送能力、接收能力，服务端确认**自己**的发送能力、接收能力和**对方**的发送能力、接收能力

三次才能保证完全双方收发能力正常

> 第三次握手可以携带上数据（其本质还是三次握手，并没有减少）